<div class="container-fluid">

    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h4 class="fw-bold text-primary">
            📅 Appointment Calendar
        </h4>

        <span class="badge bg-success px-3 py-2 shadow">
            Live Schedule
        </span>
    </div>


    <!-- Calendar Card -->
    <div class="card shadow-lg border-0 rounded-4">

        <div class="card-body p-3">

            <div id="calendar"></div>

        </div>

    </div>

</div>


<!-- Modal -->
<div class="modal fade" id="apptModal" tabindex="-1" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered modal-lg">

        <div class="modal-content border-0 shadow rounded-4">

            <div class="modal-header bg-primary text-white rounded-top">
                <h5 class="modal-title fw-bold">
                    📌 Appointment Details
                </h5>

                <button type="button" class="btn-close btn-close-white"
                        data-bs-dismiss="modal"></button>
            </div>


            <div class="modal-body p-4">

                <div id="modalBody" class="text-center text-muted">
                    Loading...
                </div>

            </div>


            <div class="modal-footer">
                <button class="btn btn-secondary rounded-pill px-4"
                        data-bs-dismiss="modal">
                    Close
                </button>
            </div>

        </div>

    </div>
</div>



<script>
    document.addEventListener('DOMContentLoaded', function () {

        var calendarEl = document.getElementById('calendar');

        var calendar = new FullCalendar.Calendar(calendarEl, {

            initialView: 'dayGridMonth',

            height: "auto",

            themeSystem: 'bootstrap5',

            headerToolbar: {
                left: 'prev,next today',
                center: 'title',
                right: 'dayGridMonth,timeGridWeek,timeGridDay'
            },

            buttonText: {
                today: 'Today',
                month: 'Month',
                week: 'Week',
                day: 'Day'
            },

            events: '/Admin/CalendarEvents',

            eventDisplay: 'block',


            eventClick: function (info) {

                var id = info.event.id;

                $("#modalBody").html(
                    '<div class="spinner-border text-primary"></div>'
                );

                $.get("/Admin/CalendarEventDetails?id=" + id, function (res) {

                    $("#modalBody").html(res);

                });

                $("#apptModal").modal("show");

            }

        });

        calendar.render();

    });
</script>
